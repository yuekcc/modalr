(()=>{var yt=Object.defineProperty;var H=Object.getOwnPropertySymbols;var wt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable;var W=(t,e,n)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e)=>{for(var n in e||(e={}))wt.call(e,n)&&W(t,n,e[n]);if(H)for(var n of H(e))bt.call(e,n)&&W(t,n,e[n]);return t};function h(){}function T(t){return t()}function Q(){return Object.create(null)}function b(t){t.forEach(T)}function V(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function q(t){return Object.keys(t).length===0}var Gt=typeof window!="undefined";var Zt=new Set;function v(t,e){t.appendChild(e)}function F(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function X(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t){return Array.from(t.childNodes)}function m(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function vt(t,e){let n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}var Pt=new Set;var S;function $(t){S=t}function K(){if(!S)throw new Error("Function called outside component initialization");return S}function G(t){K().$$.on_mount.push(t)}function Z(){let t=K();return(e,n)=>{let o=t.$$.callbacks[e];if(o){let i=vt(e,n);o.slice().forEach(l=>{l.call(t,i)})}}}var x=[];var tt=[],D=[],et=[],xt=Promise.resolve(),P=!1;function Mt(){P||(P=!0,xt.then(nt))}function Y(t){D.push(t)}var R=!1,B=new Set;function nt(){if(!R){R=!0;do{for(let t=0;t<x.length;t+=1){let e=x[t];$(e),kt(e.$$)}for($(null),x.length=0;tt.length;)tt.pop()();for(let t=0;t<D.length;t+=1){let e=D[t];B.has(e)||(B.add(e),e())}D.length=0}while(x.length);for(;et.length;)et.pop()();P=!1,R=!1,B.clear()}}function kt(t){if(t.fragment!==null){t.update(),b(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}var E=new Set,w;function ot(){w={r:0,c:[],p:w}}function it(){w.r||b(w.c),w=w.p}function M(t,e){t&&t.i&&(E.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(E.has(t))return;E.add(t),w.c.push(()=>{E.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}var Yt=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Rt=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function st(t){t&&t.c()}function U(t,e,n,o){let{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,n),o||Y(()=>{let s=l.map(T).filter(V);a?a.push(...s):b(s),t.$$.on_mount=[]}),u.forEach(Y)}function O(t,e){let n=t.$$;n.fragment!==null&&(b(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(x.push(t),Mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(t,e,n,o,i,l,a=[-1]){let u=S;$(t);let s=t.$$={fragment:null,ctx:null,props:l,update:h,not_equal:i,bound:Q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:Q(),dirty:a,skip_bound:!1},d=!1;if(s.ctx=n?n(t,e.props||{},(r,c,...g)=>{let C=g.length?g[0]:c;return s.ctx&&i(s.ctx[r],s.ctx[r]=C)&&(!s.skip_bound&&s.bound[r]&&s.bound[r](C),d&&Lt(t,r)),c}):[],s.update(),d=!0,b(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){let r=Ft(e.target);s.fragment&&s.fragment.l(r),r.forEach(y)}else s.fragment&&s.fragment.c();e.intro&&M(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),nt()}$(u)}var It;typeof HTMLElement=="function"&&(It=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(T).filter(V);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){b(this.$$.on_disconnect)}$destroy(){O(this,1),this.$destroy=h}$on(t,e){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!q(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var k=class{$destroy(){O(this,1),this.$destroy=h}$on(e,n){let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!q(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function Ct(){var t=p("style");t.id="svelte-ebl6dg-style",t.textContent=".modalr-loading.svelte-ebl6dg.svelte-ebl6dg{text-align:center;width:100%}.modalr-loading.svelte-ebl6dg .modalr-loading-img.svelte-ebl6dg{width:3rem;height:3rem}",v(document.head,t)}function jt(t){let e,n,o;return{c(){e=p("div"),n=p("img"),n.src!==(o=t[0])&&f(n,"src",o),f(n,"alt","\u52A0\u8F7D\u4E2D"),f(n,"class","modalr-loading-img svelte-ebl6dg"),f(e,"class","modalr-loading svelte-ebl6dg")},m(i,l){F(i,e,l),v(e,n)},p:h,i:h,o:h,d(i){i&&y(e)}}}function St(t){return["data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLWNhbWVyYSIgd2lkdGg9IjMycHgiICBoZWlnaHQ9IjMycHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAsNTApIj4KPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjcpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwLC01MCkiPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNzAuNzIgNTAgNTApIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMzYwIDUwIDUwOzAgNTAgNTAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGtleVNwbGluZXM9IjAuNSAwLjUgMC41IDAuNSIgY2FsY01vZGU9InNwbGluZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDxwYXRoIGZpbGw9IiNmMDUxMjUiIGQ9Ik01NC4zLDI4LjFoMzQuMmMtNC41LTkuMy0xMi40LTE2LjctMjEuOS0yMC44TDQ1LjcsMjguMUw1NC4zLDI4LjFMNTQuMywyOC4xeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiNmZGI4MTMiIGQ9Ik02MS43LDcuM0M1MS45LDQsNDEuMSw0LjIsMzEuNSw4LjF2MjkuNWw2LjEtNi4xTDYxLjcsNy4zQzYxLjcsNy4zLDYxLjcsNy4zLDYxLjcsNy4zeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik0yOC4xLDExLjZjLTkuMyw0LjUtMTYuNywxMi40LTIwLjgsMjEuOWwyMC44LDIwLjh2LTguNkwyOC4xLDExLjZDMjguMSwxMS42LDI4LjEsMTEuNiwyOC4xLDExLjZ6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iIzMyYTBkYSIgZD0iTTMxLjUsNjIuNEw3LjMsMzguM2MwLDAsMCwwLDAsMEM0LDQ4LjEsNC4yLDU4LjksOC4xLDY4LjVoMjkuNUwzMS41LDYyLjR6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iI2YwNTEyNSIgZD0iTTQ1LjcsNzEuOUgxMS41YzAsMCwwLDAsMCwwYzQuNSw5LjMsMTIuNCwxNi43LDIxLjksMjAuOGwyMC44LTIwLjhINDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjZmRiODEzIiBkPSJNNjIuNCw2OC41TDM4LjMsOTIuNmMwLDAsMCwwLDAsMGM5LjgsMy40LDIwLjYsMy4xLDMwLjItMC44VjYyLjRMNjIuNCw2OC41eiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik03MS45LDQ1Ljd2OC42djM0LjJjMCwwLDAsMCwwLDBjOS4zLTQuNSwxNi43LTEyLjQsMjAuOC0yMS45TDcxLjksNDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjMzJhMGRhIiBkPSJNOTEuOSwzMS41QzkxLjksMzEuNSw5MS45LDMxLjUsOTEuOSwzMS41bC0yOS41LDBsMCwwbDYuMSw2LjFsMjQuMSwyNC4xYzAsMCwwLDAsMCwwIEM5Niw1MS45LDk1LjgsNDEuMSw5MS45LDMxLjV6Ij48L3BhdGg+CjwvZz48L2c+PC9nPjwvZz48L3N2Zz4K"]}var rt=class extends k{constructor(e){super();document.getElementById("svelte-ebl6dg-style")||Ct(),z(this,e,St,jt,j,{})}},ct=rt;var lt=ct;var $t=()=>{let t=1e3;return()=>(t+=100,t)},ut=$t();function Dt(){var t=p("style");t.id="svelte-fr23s2-style",t.textContent=".modalr-dialog-container.svelte-fr23s2.svelte-fr23s2{position:fixed;top:0;right:0;bottom:0;left:0;height:100vh;width:100%;overflow:hidden}.modalr-flex-container.svelte-fr23s2.svelte-fr23s2{display:flex;justify-items:center;align-items:center}.modalr-flex-container.svelte-fr23s2 .flex-item.svelte-fr23s2{flex:1}",v(document.head,t)}function Et(t){let e;return{c(){e=p("div"),f(e,"id",t[5]),f(e,"class","flex-item svelte-fr23s2"),m(e,"z-index",t[3])},m(n,o){F(n,e,o),e.innerHTML=t[1]},p(n,o){o&2&&(e.innerHTML=n[1]),o&32&&f(e,"id",n[5]),o&8&&m(e,"z-index",n[3])},i:h,o:h,d(n){n&&y(e)}}}function Nt(t){let e,n,o;return n=new lt({}),{c(){e=p("div"),st(n.$$.fragment),f(e,"class","flex-item svelte-fr23s2"),m(e,"z-index",t[3])},m(i,l){F(i,e,l),U(n,e,null),o=!0},p(i,l){(!o||l&8)&&m(e,"z-index",i[3])},i(i){o||(M(n.$$.fragment,i),o=!0)},o(i){N(n.$$.fragment,i),o=!1},d(i){i&&y(e),O(n)}}}function Ot(t){let e,n,o,i,l,a,u=[Nt,Et],s=[];function d(r,c){return r[6]?0:1}return n=d(t,-1),o=s[n]=u[n](t),{c(){e=p("div"),o.c(),f(e,"data-modalr-id",t[0]),f(e,"class","modalr-dialog-container modalr-flex-container svelte-fr23s2"),m(e,"z-index",t[2]),m(e,"background-color",t[4])},m(r,c){F(r,e,c),s[n].m(e,null),i=!0,l||(a=X(e,"click",t[7]),l=!0)},p(r,[c]){let g=n;n=d(r,c),n===g?s[n].p(r,c):(ot(),N(s[g],1,1,()=>{s[g]=null}),it(),o=s[n],o?o.p(r,c):(o=s[n]=u[n](r),o.c()),M(o,1),o.m(e,null)),(!i||c&1)&&f(e,"data-modalr-id",r[0]),(!i||c&4)&&m(e,"z-index",r[2]),(!i||c&16)&&m(e,"background-color",r[4])},i(r){i||(M(o),i=!0)},o(r){N(o),i=!1},d(r){r&&y(e),s[n].d(),l=!1,a()}}}function zt(t,e,n){let o,i,l,a,u,s=Z(),{id:d=""}=e,{content:r=null}=e,{config:c={closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",zindex:1e4}}=e,g=({event:_,currentId:gt})=>{_.target.dataset.modalrId==d&&c.closeOnMark&&gt==d&&s("destroy")},C=_=>g({event:_,currentId:d});return G(()=>{n(8,c.zindex=ut(),c)}),t.$$set=_=>{"id"in _&&n(0,d=_.id),"content"in _&&n(1,r=_.content),"config"in _&&n(8,c=_.config)},t.$$.update=()=>{if(t.$$.dirty&256){t:n(2,o=c.zindex)}if(t.$$.dirty&256){t:n(3,i=c.zindex+10)}if(t.$$.dirty&256){t:n(4,l=c.backgroundColor||"rgba(0, 0, 0, 0.25)")}if(t.$$.dirty&1){t:n(5,a=`${d}-content-wrapper}`)}if(t.$$.dirty&256){t:n(6,u=c.isLoading)}},[d,r,o,i,l,a,u,C,c]}var at=class extends k{constructor(e){super();document.getElementById("svelte-fr23s2-style")||Dt(),z(this,e,zt,Ot,j,{id:0,content:1,config:8})}},ft=at;var J=ft;var dt=function(){},_t=()=>({closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",onCloseCallback:dt,before:dt}),L=[],I=new Map,At=()=>{let t=0;return()=>{t+=1;let e=new Date;return`$modalr_layer_${t}_${e.getTime()}`}},ht=At(),pt=document.body,mt={show(t,e){let n=t&&t.cloneNode?t.cloneNode(!0):t,o=A(A({},_t()),e),{closeOnMark:i,onCloseCallback:l,before:a}=o,u=ht();a&&typeof a=="function"&&a();let s=new J({target:pt,props:{id:u,content:n,config:{closeOnMark:i}}});return s.$on("destroy",l),L.push(u),I.set(u,s),u},close(t){let e=I.get(t);if(!e)return;e.$destroy&&e.$destroy(),I.delete(t);let n=L.findIndex(o=>o===t);n>-1&&L.splice(n,1)},closeLatest(){let t=L.pop();this.close(t)},closeAll(){Array.from(I.values()).forEach(t=>this.close(t))},loading(t){let e=t||0,{onCloseCallback:n}=_t(),o=new J({target:pt,props:{config:{closeOnMark:!1,isLoading:!0,backgroundColor:"rgba(0, 0, 0, 0.05)"}}});o.$on("destroy",n);let i=ht();return L.push(i),I.set(i,o),e>-1&&setTimeout(()=>{this.close(i)},e),i}};window.modalr=mt;})();
//# sourceMappingURL=modalr.js.map
