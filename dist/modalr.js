var modalr=function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,o)}return e}function i(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&u(n,t)}function c(n){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function u(n,t){return(u=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function a(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(n):t}function d(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(){}function s(n){return n()}function g(){return Object.create(null)}function m(n){n.forEach(s)}function p(n){return"function"==typeof n}function y(t,e){return t!=t?e==e:t!==e||t&&"object"===n(t)||"function"==typeof t}function w(n,t){n.appendChild(t)}function I(n,t,e){n.insertBefore(t,e||null)}function b(n){n.parentNode.removeChild(n)}function M(n){return document.createElement(n)}function v(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e)}function j(n,t,e){n.style.setProperty(t,e)}var L;function h(n){L=n}function x(n){(function(){if(!L)throw new Error("Function called outside component initialization");return L})().$$.on_mount.push(n)}function C(){var n=L;return function(t,e){var o=n.$$.callbacks[t];if(o){var r=function(n,t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,t),e}(t,e);o.slice().forEach(function(t){t.call(n,r)})}}}var N=[],D=[],O=[],z=[],S=Promise.resolve(),$=!1;function k(n){O.push(n)}function Z(){var n=new Set;do{for(;N.length;){var t=N.shift();h(t),G(t.$$)}for(;D.length;)D.pop()();for(var e=0;e<O.length;e+=1){var o=O[e];n.has(o)||(o(),n.add(o))}O.length=0}while(N.length);for(;z.length;)z.pop()();$=!1}function G(n){n.fragment&&(n.update(n.dirty),m(n.before_update),n.fragment.p(n.dirty,n.ctx),n.dirty=null,n.after_update.forEach(k))}var P,E=new Set;function T(n,t){n&&n.i&&(E.delete(n),n.i(t))}function A(n,t,e,o){if(n&&n.o){if(E.has(n))return;E.add(n),P.c.push(function(){E.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}}function Y(n,t,e){var o=n.$$,r=o.fragment,i=o.on_mount,c=o.on_destroy,u=o.after_update;r.m(t,e),k(function(){var t=i.map(s).filter(p);c?c.push.apply(c,d(t)):m(t),n.$$.on_mount=[]}),u.forEach(k)}function _(n,t){n.$$.fragment&&(m(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={})}function J(n,t){n.$$.dirty||(N.push(n),$||($=!0,S.then(Z)),n.$$.dirty=g()),n.$$.dirty[t]=!0}function W(n,t,e,o,r,i){var c=L;h(n);var u,a=t.props||{},l=n.$$={fragment:null,ctx:null,props:i,update:f,not_equal:r,bound:g(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:g(),dirty:null},d=!1;l.ctx=e?e(n,a,function(t,e){l.ctx&&r(l.ctx[t],l.ctx[t]=e)&&(l.bound[t]&&l.bound[t](e),d&&J(n,t))}):a,l.update(),d=!0,m(l.before_update),l.fragment=o(l.ctx),t.target&&(t.hydrate?l.fragment.l((u=t.target,Array.from(u.childNodes))):l.fragment.c(),t.intro&&T(n.$$.fragment),Y(n,t.target,t.anchor),Z()),h(c)}var F=function(){function n(){t(this,n)}var o,r,i;return o=n,(r=[{key:"$destroy",value:function(){_(this,1),this.$destroy=f}},{key:"$on",value:function(n,t){var e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"$set",value:function(){}}])&&e(o.prototype,r),i&&e(o,i),n}();function U(n){var t,e;return{c:function(){t=M("div"),v(e=M("img"),"src",n.LoadingImage),v(e,"alt","加载中"),v(e,"class","modalr-loading-img svelte-1m5zham"),v(t,"class","modalr-loading svelte-1m5zham")},m:function(n,o){I(n,t,o),w(t,e)},p:f,i:f,o:f,d:function(n){n&&b(t)}}}function B(n){return{LoadingImage:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLWNhbWVyYSIgd2lkdGg9IjMycHgiICBoZWlnaHQ9IjMycHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAsNTApIj4KPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjcpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwLC01MCkiPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNzAuNzIgNTAgNTApIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMzYwIDUwIDUwOzAgNTAgNTAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGtleVNwbGluZXM9IjAuNSAwLjUgMC41IDAuNSIgY2FsY01vZGU9InNwbGluZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDxwYXRoIGZpbGw9IiNmMDUxMjUiIGQ9Ik01NC4zLDI4LjFoMzQuMmMtNC41LTkuMy0xMi40LTE2LjctMjEuOS0yMC44TDQ1LjcsMjguMUw1NC4zLDI4LjFMNTQuMywyOC4xeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiNmZGI4MTMiIGQ9Ik02MS43LDcuM0M1MS45LDQsNDEuMSw0LjIsMzEuNSw4LjF2MjkuNWw2LjEtNi4xTDYxLjcsNy4zQzYxLjcsNy4zLDYxLjcsNy4zLDYxLjcsNy4zeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik0yOC4xLDExLjZjLTkuMyw0LjUtMTYuNywxMi40LTIwLjgsMjEuOWwyMC44LDIwLjh2LTguNkwyOC4xLDExLjZDMjguMSwxMS42LDI4LjEsMTEuNiwyOC4xLDExLjZ6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iIzMyYTBkYSIgZD0iTTMxLjUsNjIuNEw3LjMsMzguM2MwLDAsMCwwLDAsMEM0LDQ4LjEsNC4yLDU4LjksOC4xLDY4LjVoMjkuNUwzMS41LDYyLjR6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iI2YwNTEyNSIgZD0iTTQ1LjcsNzEuOUgxMS41YzAsMCwwLDAsMCwwYzQuNSw5LjMsMTIuNCwxNi43LDIxLjksMjAuOGwyMC44LTIwLjhINDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjZmRiODEzIiBkPSJNNjIuNCw2OC41TDM4LjMsOTIuNmMwLDAsMCwwLDAsMGM5LjgsMy40LDIwLjYsMy4xLDMwLjItMC44VjYyLjRMNjIuNCw2OC41eiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik03MS45LDQ1Ljd2OC42djM0LjJjMCwwLDAsMCwwLDBjOS4zLTQuNSwxNi43LTEyLjQsMjAuOC0yMS45TDcxLjksNDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjMzJhMGRhIiBkPSJNOTEuOSwzMS41QzkxLjksMzEuNSw5MS45LDMxLjUsOTEuOSwzMS41bC0yOS41LDBsMCwwbDYuMSw2LjFsMjQuMSwyNC4xYzAsMCwwLDAsMCwwIEM5Niw1MS45LDk1LjgsNDEuMSw5MS45LDMxLjV6Ij48L3BhdGg+CjwvZz48L2c+PC9nPjwvZz48L3N2Zz4K"}}var Q,R=function(n){function e(n){var o,r;return t(this,e),o=l(this,c(e).call(this)),document.getElementById("svelte-1m5zham-style")||((r=M("style")).id="svelte-1m5zham-style",r.textContent=".modalr-loading.svelte-1m5zham{text-align:center;width:100%}.modalr-loading.svelte-1m5zham .modalr-loading-img.svelte-1m5zham{width:3rem;height:3rem}",w(document.head,r)),W(a(o),n,B,U,y,[]),o}return i(e,F),e}(),H=(Q=1e3,function(){return Q+=100});function V(n){var t;return{c:function(){v(t=M("div"),"id",n.contentWrapperId),v(t,"class","flex-item svelte-1nsld77"),j(t,"z-index",n.clildZIndex)},m:function(e,o){I(e,t,o),t.innerHTML=n.content},p:function(n,e){n.content&&(t.innerHTML=e.content),n.contentWrapperId&&v(t,"id",e.contentWrapperId),n.clildZIndex&&j(t,"z-index",e.clildZIndex)},i:f,o:f,d:function(n){n&&b(t)}}}function X(n){var t,e,o=new R({});return{c:function(){t=M("div"),o.$$.fragment.c(),v(t,"class","flex-item svelte-1nsld77"),j(t,"z-index",n.clildZIndex)},m:function(n,r){I(n,t,r),Y(o,t,null),e=!0},p:function(n,o){e&&!n.clildZIndex||j(t,"z-index",o.clildZIndex)},i:function(n){e||(T(o.$$.fragment,n),e=!0)},o:function(n){A(o.$$.fragment,n),e=!1},d:function(n){n&&b(t),_(o)}}}function K(n){var t,e,o,r,i,c=[X,V],u=[];function a(n){return n.isLoading?0:1}return e=a(n),o=u[e]=c[e](n),{c:function(){var e,r,c,u;t=M("div"),o.c(),v(t,"data-modalr-id",n.id),v(t,"class","modalr-dialog-container modalr-flex-container svelte-1nsld77"),j(t,"z-index",n.continerZIndex),j(t,"background-color",n.backgroundColor),e=t,r="click",c=n.handleModalContainerOnClick,e.addEventListener(r,c,u),i=function(){return e.removeEventListener(r,c,u)}},m:function(n,o){I(n,t,o),u[e].m(t,null),r=!0},p:function(n,i){var l=e;(e=a(i))===l?u[e].p(n,i):(P={r:0,c:[],p:P},A(u[l],1,1,function(){u[l]=null}),P.r||m(P.c),P=P.p,(o=u[e])||(o=u[e]=c[e](i)).c(),T(o,1),o.m(t,null)),r&&!n.id||v(t,"data-modalr-id",i.id),r&&!n.continerZIndex||j(t,"z-index",i.continerZIndex),r&&!n.backgroundColor||j(t,"background-color",i.backgroundColor)},i:function(n){r||(T(o),r=!0)},o:function(n){A(o),r=!1},d:function(n){n&&b(t),u[e].d(),i()}}}function q(n,t,e){var o,r,i,c,u,a=C(),l=t.id,d=void 0===l?"":l,f=t.content,s=void 0===f?null:f,g=t.config,m=void 0===g?{closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",zindex:1e4}:g;return x(function(){m.zindex=H(),e("config",m)}),n.$set=function(n){"id"in n&&e("id",d=n.id),"content"in n&&e("content",s=n.content),"config"in n&&e("config",m=n.config)},n.$$.update=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:1,id:1};n.config&&e("continerZIndex",o=m.zindex),n.config&&e("clildZIndex",r=m.zindex+10),n.config&&e("backgroundColor",i=m.backgroundColor||"rgba(0, 0, 0, 0.25)"),n.id&&e("contentWrapperId",c="".concat(d,"-content-wrapper}")),n.config&&e("isLoading",u=m.isLoading)},{id:d,content:s,config:m,handleModalContainerOnClick:function(n){return function(n){var t=n.event,e=n.currentId;t.target.dataset.modalrId==d&&m.closeOnMark&&e==d&&a("destroy")}({event:n,currentId:d})},continerZIndex:o,clildZIndex:r,backgroundColor:i,contentWrapperId:c,isLoading:u}}var nn=function(n){function e(n){var o,r;return t(this,e),o=l(this,c(e).call(this)),document.getElementById("svelte-1nsld77-style")||((r=M("style")).id="svelte-1nsld77-style",r.textContent=".modalr-dialog-container.svelte-1nsld77{position:fixed;top:0;right:0;bottom:0;left:0;height:100vh;width:100%;overflow:hidden}.modalr-flex-container.svelte-1nsld77{display:flex;justify-items:center;align-items:center}.modalr-flex-container.svelte-1nsld77 .flex-item.svelte-1nsld77{flex:1}",w(document.head,r)),W(a(o),n,q,K,y,["id","content","config"]),o}return i(e,F),e}(),tn=function(){},en=function(){return{closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",onCloseCallback:tn,before:tn}},on={},rn=[],cn=function(){var n=0;return function(){n+=1;var t=new Date,e="$modalr_layer_".concat(n,"_").concat(t.getTime());return rn.push(e),e}}(),un=document.body;return{show:function(n,t){var e=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(e,!0).forEach(function(t){o(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}({},en(),{},t),i=e.closeOnMark,c=e.onCloseCallback,u=e.before,a=cn();u&&"function"==typeof u&&u();var l=new nn({target:un,props:{id:a,content:n,config:{closeOnMark:i}}});return l.$on("destroy",c),on[a]=l,a},close:function(n){var t=on[n];t&&t.$destroy&&(t.$destroy(),on[n]=null)},closeLatest:function(){var n=rn.pop();this.close(n)},closeAll:function(){Object.keys(on).map(function(n){var t=on[n];t&&t.$destroy&&(t.$destroy(),on[n]=null)})},loading:function(n){var t=this,e=en().onCloseCallback,o=new nn({target:un,props:{config:{closeOnMark:!1,isLoading:!0,backgroundColor:"rgba(0, 0, 0, 0.05)"}}});o.$on("destroy",e);var r=cn();return on[r]=o,n&&setTimeout(function(){t.close(r)},n),r}}}();
