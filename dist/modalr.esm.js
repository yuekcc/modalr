var mt=Object.defineProperty;var U=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable;var J=(t,e,n)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||(e={}))yt.call(e,n)&&J(t,n,e[n]);if(U)for(var n of U(e))bt.call(e,n)&&J(t,n,e[n]);return t};function h(){}function z(t){return t()}function H(){return Object.create(null)}function w(t){t.forEach(z)}function W(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Q(t){return Object.keys(t).length===0}var Gt=typeof window!="undefined";var Zt=new Set;function F(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function V(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function wt(t){return Array.from(t.childNodes)}function p(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function vt(t,e){let n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}var Pt=new Set;var C;function j(t){C=t}function q(){if(!C)throw new Error("Function called outside component initialization");return C}function A(t){q().$$.on_mount.push(t)}function T(){let t=q();return(e,n)=>{let o=t.$$.callbacks[e];if(o){let i=vt(e,n);o.slice().forEach(c=>{c.call(t,i)})}}}var M=[];var X=[],S=[],K=[],Ft=Promise.resolve(),G=!1;function Mt(){G||(G=!0,Ft.then(tt))}function Z(t){S.push(t)}var P=!1,Y=new Set;function tt(){if(!P){P=!0;do{for(let t=0;t<M.length;t+=1){let e=M[t];j(e),xt(e.$$)}for(j(null),M.length=0;X.length;)X.pop()();for(let t=0;t<S.length;t+=1){let e=S[t];Y.has(e)||(Y.add(e),e())}S.length=0}while(M.length);for(;K.length;)K.pop()();G=!1,P=!1,Y.clear()}}function xt(t){if(t.fragment!==null){t.update(),w(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}var D=new Set,b;function et(){b={r:0,c:[],p:b}}function nt(){b.r||w(b.c),b=b.p}function x(t,e){t&&t.i&&(D.delete(t),t.i(e))}function $(t,e,n,o){if(t&&t.o){if(D.has(t))return;D.add(t),b.c.push(()=>{D.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}var Yt=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Rt=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function ot(t){t&&t.c()}function R(t,e,n,o){let{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,n),o||Z(()=>{let s=c.map(z).filter(W);a?a.push(...s):w(s),t.$$.on_mount=[]}),u.forEach(Z)}function E(t,e){let n=t.$$;n.fragment!==null&&(w(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){t.$$.dirty[0]===-1&&(M.push(t),Mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,e,n,o,i,c,a=[-1]){let u=C;j(t);let s=t.$$={fragment:null,ctx:null,props:c,update:h,not_equal:i,bound:H(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:H(),dirty:a,skip_bound:!1},d=!1;if(s.ctx=n?n(t,e.props||{},(r,l,...m)=>{let L=m.length?m[0]:l;return s.ctx&&i(s.ctx[r],s.ctx[r]=L)&&(!s.skip_bound&&s.bound[r]&&s.bound[r](L),d&&kt(t,r)),l}):[],s.update(),d=!0,w(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){let r=wt(e.target);s.fragment&&s.fragment.l(r),r.forEach(y)}else s.fragment&&s.fragment.c();e.intro&&x(t.$$.fragment),R(t,e.target,e.anchor,e.customElement),tt()}j(u)}var Lt;typeof HTMLElement=="function"&&(Lt=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(z).filter(W);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){w(this.$$.on_disconnect)}$destroy(){E(this,1),this.$destroy=h}$on(t,e){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!Q(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var k=class{$destroy(){E(this,1),this.$destroy=h}$on(e,n){let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Q(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function It(){var t=g("style");t.id="svelte-ebl6dg-style",t.textContent=".modalr-loading.svelte-ebl6dg.svelte-ebl6dg{text-align:center;width:100%}.modalr-loading.svelte-ebl6dg .modalr-loading-img.svelte-ebl6dg{width:3rem;height:3rem}",F(document.head,t)}function Ct(t){let e,n,o;return{c(){e=g("div"),n=g("img"),n.src!==(o=t[0])&&f(n,"src",o),f(n,"alt","\u52A0\u8F7D\u4E2D"),f(n,"class","modalr-loading-img svelte-ebl6dg"),f(e,"class","modalr-loading svelte-ebl6dg")},m(i,c){v(i,e,c),F(e,n)},p:h,i:h,o:h,d(i){i&&y(e)}}}function jt(t){return["data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLWNhbWVyYSIgd2lkdGg9IjMycHgiICBoZWlnaHQ9IjMycHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAsNTApIj4KPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjcpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwLC01MCkiPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNzAuNzIgNTAgNTApIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMzYwIDUwIDUwOzAgNTAgNTAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGtleVNwbGluZXM9IjAuNSAwLjUgMC41IDAuNSIgY2FsY01vZGU9InNwbGluZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDxwYXRoIGZpbGw9IiNmMDUxMjUiIGQ9Ik01NC4zLDI4LjFoMzQuMmMtNC41LTkuMy0xMi40LTE2LjctMjEuOS0yMC44TDQ1LjcsMjguMUw1NC4zLDI4LjFMNTQuMywyOC4xeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiNmZGI4MTMiIGQ9Ik02MS43LDcuM0M1MS45LDQsNDEuMSw0LjIsMzEuNSw4LjF2MjkuNWw2LjEtNi4xTDYxLjcsNy4zQzYxLjcsNy4zLDYxLjcsNy4zLDYxLjcsNy4zeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik0yOC4xLDExLjZjLTkuMyw0LjUtMTYuNywxMi40LTIwLjgsMjEuOWwyMC44LDIwLjh2LTguNkwyOC4xLDExLjZDMjguMSwxMS42LDI4LjEsMTEuNiwyOC4xLDExLjZ6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iIzMyYTBkYSIgZD0iTTMxLjUsNjIuNEw3LjMsMzguM2MwLDAsMCwwLDAsMEM0LDQ4LjEsNC4yLDU4LjksOC4xLDY4LjVoMjkuNUwzMS41LDYyLjR6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iI2YwNTEyNSIgZD0iTTQ1LjcsNzEuOUgxMS41YzAsMCwwLDAsMCwwYzQuNSw5LjMsMTIuNCwxNi43LDIxLjksMjAuOGwyMC44LTIwLjhINDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjZmRiODEzIiBkPSJNNjIuNCw2OC41TDM4LjMsOTIuNmMwLDAsMCwwLDAsMGM5LjgsMy40LDIwLjYsMy4xLDMwLjItMC44VjYyLjRMNjIuNCw2OC41eiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik03MS45LDQ1Ljd2OC42djM0LjJjMCwwLDAsMCwwLDBjOS4zLTQuNSwxNi43LTEyLjQsMjAuOC0yMS45TDcxLjksNDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjMzJhMGRhIiBkPSJNOTEuOSwzMS41QzkxLjksMzEuNSw5MS45LDMxLjUsOTEuOSwzMS41bC0yOS41LDBsMCwwbDYuMSw2LjFsMjQuMSwyNC4xYzAsMCwwLDAsMCwwIEM5Niw1MS45LDk1LjgsNDEuMSw5MS45LDMxLjV6Ij48L3BhdGg+CjwvZz48L2c+PC9nPjwvZz48L3N2Zz4K"]}var it=class extends k{constructor(e){super();document.getElementById("svelte-ebl6dg-style")||It(),N(this,e,jt,Ct,I,{})}},st=it;var rt=st;var St=()=>{let t=1e3;return()=>(t+=100,t)},ct=St();function Dt(){var t=g("style");t.id="svelte-fr23s2-style",t.textContent=".modalr-dialog-container.svelte-fr23s2.svelte-fr23s2{position:fixed;top:0;right:0;bottom:0;left:0;height:100vh;width:100%;overflow:hidden}.modalr-flex-container.svelte-fr23s2.svelte-fr23s2{display:flex;justify-items:center;align-items:center}.modalr-flex-container.svelte-fr23s2 .flex-item.svelte-fr23s2{flex:1}",F(document.head,t)}function $t(t){let e;return{c(){e=g("div"),f(e,"id",t[5]),f(e,"class","flex-item svelte-fr23s2"),p(e,"z-index",t[3])},m(n,o){v(n,e,o),e.innerHTML=t[1]},p(n,o){o&2&&(e.innerHTML=n[1]),o&32&&f(e,"id",n[5]),o&8&&p(e,"z-index",n[3])},i:h,o:h,d(n){n&&y(e)}}}function Et(t){let e,n,o;return n=new rt({}),{c(){e=g("div"),ot(n.$$.fragment),f(e,"class","flex-item svelte-fr23s2"),p(e,"z-index",t[3])},m(i,c){v(i,e,c),R(n,e,null),o=!0},p(i,c){(!o||c&8)&&p(e,"z-index",i[3])},i(i){o||(x(n.$$.fragment,i),o=!0)},o(i){$(n.$$.fragment,i),o=!1},d(i){i&&y(e),E(n)}}}function Nt(t){let e,n,o,i,c,a,u=[Et,$t],s=[];function d(r,l){return r[6]?0:1}return n=d(t,-1),o=s[n]=u[n](t),{c(){e=g("div"),o.c(),f(e,"data-modalr-id",t[0]),f(e,"class","modalr-dialog-container modalr-flex-container svelte-fr23s2"),p(e,"z-index",t[2]),p(e,"background-color",t[4])},m(r,l){v(r,e,l),s[n].m(e,null),i=!0,c||(a=V(e,"click",t[7]),c=!0)},p(r,[l]){let m=n;n=d(r,l),n===m?s[n].p(r,l):(et(),$(s[m],1,1,()=>{s[m]=null}),nt(),o=s[n],o?o.p(r,l):(o=s[n]=u[n](r),o.c()),x(o,1),o.m(e,null)),(!i||l&1)&&f(e,"data-modalr-id",r[0]),(!i||l&4)&&p(e,"z-index",r[2]),(!i||l&16)&&p(e,"background-color",r[4])},i(r){i||(x(o),i=!0)},o(r){$(o),i=!1},d(r){r&&y(e),s[n].d(),c=!1,a()}}}function Ot(t,e,n){let o,i,c,a,u,s=T(),{id:d=""}=e,{content:r=null}=e,{config:l={closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",zindex:1e4}}=e,m=({event:_,currentId:pt})=>{_.target.dataset.modalrId==d&&l.closeOnMark&&pt==d&&s("destroy")},L=_=>m({event:_,currentId:d});return A(()=>{n(8,l.zindex=ct(),l)}),t.$$set=_=>{"id"in _&&n(0,d=_.id),"content"in _&&n(1,r=_.content),"config"in _&&n(8,l=_.config)},t.$$.update=()=>{if(t.$$.dirty&256){t:n(2,o=l.zindex)}if(t.$$.dirty&256){t:n(3,i=l.zindex+10)}if(t.$$.dirty&256){t:n(4,c=l.backgroundColor||"rgba(0, 0, 0, 0.25)")}if(t.$$.dirty&1){t:n(5,a=`${d}-content-wrapper}`)}if(t.$$.dirty&256){t:n(6,u=l.isLoading)}},[d,r,o,i,c,a,u,L,l]}var lt=class extends k{constructor(e){super();document.getElementById("svelte-fr23s2-style")||Dt(),N(this,e,Ot,Nt,I,{id:0,content:1,config:8})}},ut=lt;var B=ut;var at=function(){},ft=()=>({closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",onCloseCallback:at,before:at}),zt=()=>{let t=0;return()=>(t+=1,`$modalr_layer_${t}`)},At=t=>(typeof t=="string"?document.querySelector(t):t).cloneNode(!0),dt=document.body,_t=zt(),ht=class{constructor(){this._dialogIds=[];this._dialogs=new Map}show(e,n){let o=At(e),{closeOnMark:i,onCloseCallback:c,before:a}=O(O({},ft()),n);a&&typeof a=="function"&&a();let u=_t(),s=new B({target:dt,props:{id:u,content:o,config:{closeOnMark:i}}});return s.$on("destroy",c),this._dialogIds.push(u),this._dialogs.set(u,s),u}_removeDialog(e){this._dialogs.delete(e);let n=this._dialogIds.findIndex(o=>o===e);n>-1&&this._dialogIds.splice(n,1)}close(e){let n=this._dialogs.get(e);!n||(n.$destroy&&n.$destroy(),this._removeDialog(e))}closeLatest(){let e=this._dialogIds.pop();this.close(e)}closeAll(){Array.from(this._dialogIds.values()).forEach(e=>this.close(e))}loading(e){let n=e||0,{onCloseCallback:o}=ft(),i=new B({target:dt,props:{config:{closeOnMark:!1,isLoading:!0,backgroundColor:"rgba(0, 0, 0, 0.05)"}}});i.$on("destroy",o);let c=_t();return this._dialogIds.push(c),this._dialogs.set(c,i),n>-1&&setTimeout(()=>{this.close(c)},n),c}},gt=new ht;var ye=gt;export{ye as Modalr};
//# sourceMappingURL=modalr.esm.js.map
