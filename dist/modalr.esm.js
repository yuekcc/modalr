var gt=Object.defineProperty;var J=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var H=(t,e,n)=>e in t?gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z=(t,e)=>{for(var n in e||(e={}))yt.call(e,n)&&H(t,n,e[n]);if(J)for(var n of J(e))wt.call(e,n)&&H(t,n,e[n]);return t};function h(){}function A(t){return t()}function W(){return Object.create(null)}function F(t){t.forEach(A)}function Q(t){return typeof t=="function"}function C(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function V(t){return Object.keys(t).length===0}var Tt=typeof window!="undefined";var Gt=new Set;function v(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function q(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function bt(t){return Array.from(t.childNodes)}function p(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function Ft(t,e){let n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}var Zt=new Set;var I;function S(t){I=t}function X(){if(!I)throw new Error("Function called outside component initialization");return I}function T(t){X().$$.on_mount.push(t)}function G(){let t=X();return(e,n)=>{let o=t.$$.callbacks[e];if(o){let i=Ft(e,n);o.slice().forEach(l=>{l.call(t,i)})}}}var x=[];var K=[],$=[],tt=[],kt=Promise.resolve(),Z=!1;function vt(){Z||(Z=!0,kt.then(et))}function P(t){$.push(t)}var Y=!1,R=new Set;function et(){if(!Y){Y=!0;do{for(let t=0;t<x.length;t+=1){let e=x[t];S(e),xt(e.$$)}for(S(null),x.length=0;K.length;)K.pop()();for(let t=0;t<$.length;t+=1){let e=$[t];R.has(e)||(R.add(e),e())}$.length=0}while(x.length);for(;tt.length;)tt.pop()();Z=!1,Y=!1,R.clear()}}function xt(t){if(t.fragment!==null){t.update(),F(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}var D=new Set,w;function nt(){w={r:0,c:[],p:w}}function ot(){w.r||F(w.c),w=w.p}function M(t,e){t&&t.i&&(D.delete(t),t.i(e))}function E(t,e,n,o){if(t&&t.o){if(D.has(t))return;D.add(t),w.c.push(()=>{D.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}var Pt=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Yt=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function it(t){t&&t.c()}function B(t,e,n,o){let{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,n),o||P(()=>{let s=l.map(A).filter(Q);a?a.push(...s):F(s),t.$$.on_mount=[]}),u.forEach(P)}function N(t,e){let n=t.$$;n.fragment!==null&&(F(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mt(t,e){t.$$.dirty[0]===-1&&(x.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(t,e,n,o,i,l,a=[-1]){let u=I;S(t);let s=t.$$={fragment:null,ctx:null,props:l,update:h,not_equal:i,bound:W(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:W(),dirty:a,skip_bound:!1},d=!1;if(s.ctx=n?n(t,e.props||{},(r,c,...g)=>{let L=g.length?g[0]:c;return s.ctx&&i(s.ctx[r],s.ctx[r]=L)&&(!s.skip_bound&&s.bound[r]&&s.bound[r](L),d&&Mt(t,r)),c}):[],s.update(),d=!0,F(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){let r=bt(e.target);s.fragment&&s.fragment.l(r),r.forEach(y)}else s.fragment&&s.fragment.c();e.intro&&M(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),et()}S(u)}var jt;typeof HTMLElement=="function"&&(jt=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(A).filter(Q);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){F(this.$$.on_disconnect)}$destroy(){N(this,1),this.$destroy=h}$on(t,e){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!V(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var j=class{$destroy(){N(this,1),this.$destroy=h}$on(e,n){let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!V(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function Lt(){var t=m("style");t.id="svelte-16n2a3k-style",t.textContent=".modalr-loading.svelte-16n2a3k.svelte-16n2a3k{text-align:center;width:100%}.modalr-loading.svelte-16n2a3k .modalr-loading-img.svelte-16n2a3k{width:3rem;height:3rem}",v(document.head,t)}function Ct(t){let e,n,o;return{c(){e=m("div"),n=m("img"),n.src!==(o=t[0])&&f(n,"src",o),f(n,"alt","\u52A0\u8F7D\u4E2D"),f(n,"class","modalr-loading-img svelte-16n2a3k"),f(e,"class","modalr-loading svelte-16n2a3k")},m(i,l){k(i,e,l),v(e,n)},p:h,i:h,o:h,d(i){i&&y(e)}}}function It(t){return["data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLWNhbWVyYSIgd2lkdGg9IjMycHgiICBoZWlnaHQ9IjMycHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAsNTApIj4KPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjcpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwLC01MCkiPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNzAuNzIgNTAgNTApIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMzYwIDUwIDUwOzAgNTAgNTAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGtleVNwbGluZXM9IjAuNSAwLjUgMC41IDAuNSIgY2FsY01vZGU9InNwbGluZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDxwYXRoIGZpbGw9IiNmMDUxMjUiIGQ9Ik01NC4zLDI4LjFoMzQuMmMtNC41LTkuMy0xMi40LTE2LjctMjEuOS0yMC44TDQ1LjcsMjguMUw1NC4zLDI4LjFMNTQuMywyOC4xeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiNmZGI4MTMiIGQ9Ik02MS43LDcuM0M1MS45LDQsNDEuMSw0LjIsMzEuNSw4LjF2MjkuNWw2LjEtNi4xTDYxLjcsNy4zQzYxLjcsNy4zLDYxLjcsNy4zLDYxLjcsNy4zeiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik0yOC4xLDExLjZjLTkuMyw0LjUtMTYuNywxMi40LTIwLjgsMjEuOWwyMC44LDIwLjh2LTguNkwyOC4xLDExLjZDMjguMSwxMS42LDI4LjEsMTEuNiwyOC4xLDExLjZ6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iIzMyYTBkYSIgZD0iTTMxLjUsNjIuNEw3LjMsMzguM2MwLDAsMCwwLDAsMEM0LDQ4LjEsNC4yLDU4LjksOC4xLDY4LjVoMjkuNUwzMS41LDYyLjR6Ij48L3BhdGg+CiAgPHBhdGggZmlsbD0iI2YwNTEyNSIgZD0iTTQ1LjcsNzEuOUgxMS41YzAsMCwwLDAsMCwwYzQuNSw5LjMsMTIuNCwxNi43LDIxLjksMjAuOGwyMC44LTIwLjhINDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjZmRiODEzIiBkPSJNNjIuNCw2OC41TDM4LjMsOTIuNmMwLDAsMCwwLDAsMGM5LjgsMy40LDIwLjYsMy4xLDMwLjItMC44VjYyLjRMNjIuNCw2OC41eiI+PC9wYXRoPgogIDxwYXRoIGZpbGw9IiM3ZmJiNDIiIGQ9Ik03MS45LDQ1Ljd2OC42djM0LjJjMCwwLDAsMCwwLDBjOS4zLTQuNSwxNi43LTEyLjQsMjAuOC0yMS45TDcxLjksNDUuN3oiPjwvcGF0aD4KICA8cGF0aCBmaWxsPSIjMzJhMGRhIiBkPSJNOTEuOSwzMS41QzkxLjksMzEuNSw5MS45LDMxLjUsOTEuOSwzMS41bC0yOS41LDBsMCwwbDYuMSw2LjFsMjQuMSwyNC4xYzAsMCwwLDAsMCwwIEM5Niw1MS45LDk1LjgsNDEuMSw5MS45LDMxLjV6Ij48L3BhdGg+CjwvZz48L2c+PC9nPjwvZz48L3N2Zz4K"]}var st=class extends j{constructor(e){super();document.getElementById("svelte-16n2a3k-style")||Lt(),O(this,e,It,Ct,C,{})}},rt=st;var ct=rt;var St=()=>{let t=1e3;return()=>(t+=100,t)},lt=St();function $t(){var t=m("style");t.id="svelte-14tjmkm-style",t.textContent=".modalr-dialog-container.svelte-14tjmkm.svelte-14tjmkm{position:fixed;top:0;right:0;bottom:0;left:0;height:100vh;width:100%;overflow:hidden}.modalr-flex-container.svelte-14tjmkm.svelte-14tjmkm{display:flex;justify-items:center;align-items:center}.modalr-flex-container.svelte-14tjmkm .flex-item.svelte-14tjmkm{flex:1}",v(document.head,t)}function Dt(t){let e;return{c(){e=m("div"),f(e,"id",t[5]),f(e,"class","flex-item svelte-14tjmkm"),p(e,"z-index",t[3])},m(n,o){k(n,e,o),e.innerHTML=t[1]},p(n,o){o&2&&(e.innerHTML=n[1]),o&32&&f(e,"id",n[5]),o&8&&p(e,"z-index",n[3])},i:h,o:h,d(n){n&&y(e)}}}function Et(t){let e,n,o;return n=new ct({}),{c(){e=m("div"),it(n.$$.fragment),f(e,"class","flex-item svelte-14tjmkm"),p(e,"z-index",t[3])},m(i,l){k(i,e,l),B(n,e,null),o=!0},p(i,l){(!o||l&8)&&p(e,"z-index",i[3])},i(i){o||(M(n.$$.fragment,i),o=!0)},o(i){E(n.$$.fragment,i),o=!1},d(i){i&&y(e),N(n)}}}function Nt(t){let e,n,o,i,l,a,u=[Et,Dt],s=[];function d(r,c){return r[6]?0:1}return n=d(t,-1),o=s[n]=u[n](t),{c(){e=m("div"),o.c(),f(e,"data-modalr-id",t[0]),f(e,"class","modalr-dialog-container modalr-flex-container svelte-14tjmkm"),p(e,"z-index",t[2]),p(e,"background-color",t[4])},m(r,c){k(r,e,c),s[n].m(e,null),i=!0,l||(a=q(e,"click",t[7]),l=!0)},p(r,[c]){let g=n;n=d(r,c),n===g?s[n].p(r,c):(nt(),E(s[g],1,1,()=>{s[g]=null}),ot(),o=s[n],o?o.p(r,c):(o=s[n]=u[n](r),o.c()),M(o,1),o.m(e,null)),(!i||c&1)&&f(e,"data-modalr-id",r[0]),(!i||c&4)&&p(e,"z-index",r[2]),(!i||c&16)&&p(e,"background-color",r[4])},i(r){i||(M(o),i=!0)},o(r){E(o),i=!1},d(r){r&&y(e),s[n].d(),l=!1,a()}}}function Ot(t,e,n){let o,i,l,a,u,s=G(),{id:d=""}=e,{content:r=null}=e,{config:c={closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",zindex:1e4}}=e,g=({event:_,currentId:pt})=>{_.target.dataset.modalrId==d&&c.closeOnMark&&pt==d&&s("destroy")},L=_=>g({event:_,currentId:d});return T(()=>{n(8,c.zindex=lt(),c)}),t.$$set=_=>{"id"in _&&n(0,d=_.id),"content"in _&&n(1,r=_.content),"config"in _&&n(8,c=_.config)},t.$$.update=()=>{if(t.$$.dirty&256){t:n(2,o=c.zindex)}if(t.$$.dirty&256){t:n(3,i=c.zindex+10)}if(t.$$.dirty&256){t:n(4,l=c.backgroundColor||"rgba(0, 0, 0, 0.25)")}if(t.$$.dirty&1){t:n(5,a=`${d}-content-wrapper}`)}if(t.$$.dirty&256){t:n(6,u=c.isLoading)}},[d,r,o,i,l,a,u,L,c]}var ut=class extends j{constructor(e){super();document.getElementById("svelte-14tjmkm-style")||$t(),O(this,e,Ot,Nt,C,{id:0,content:1,config:8})}},at=ut;var U=at;var ft=function(){},dt=()=>({closeOnMark:!0,isLoading:!1,backgroundColor:"rgba(0, 0, 0, 0.25)",onCloseCallback:ft,before:ft}),b={},_t=[],zt=()=>{let t=0;return()=>{t+=1;let e=new Date,n=`$modalr_layer_${t}_${e.getTime()}`;return _t.push(n),n}},ht=zt(),mt=document.body,he={show(t,e){let n=t&&t.cloneNode?t.cloneNode(!0):t,o=z(z({},dt()),e),{closeOnMark:i,onCloseCallback:l,before:a}=o,u=ht();a&&typeof a=="function"&&a();let s=new U({target:mt,props:{id:u,content:n,config:{closeOnMark:i}}});return s.$on("destroy",l),b[u]=s,u},close(t){let e=b[t];e&&e.$destroy&&(e.$destroy(),b[t]=null)},closeLatest(){let t=_t.pop();this.close(t)},closeAll(){Object.keys(b).map(t=>{let e=b[t];e&&e.$destroy&&(e.$destroy(),b[t]=null)})},loading(t){let e=this,{onCloseCallback:n}=dt(),o=new U({target:mt,props:{config:{closeOnMark:!1,isLoading:!0,backgroundColor:"rgba(0, 0, 0, 0.05)"}}});o.$on("destroy",n);let i=ht();return b[i]=o,t&&setTimeout(()=>{e.close(i)},t),i}};export{he as default};
//# sourceMappingURL=modalr.esm.js.map
